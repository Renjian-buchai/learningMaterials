<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>SDL_GL_BindTexture</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<nav id="TOC">
<ul>
<li><a href="#sdl_gl_bindtexture">SDL_GL_BindTexture</a><ul>
<li><a href="#syntax">Syntax</a></li>
<li><a href="#function-parameters">Function Parameters</a></li>
<li><a href="#return-value">Return Value</a></li>
<li><a href="#remarks">Remarks</a></li>
<li><a href="#version">Version</a></li>
<li><a href="#code-examples">Code Examples</a></li>
<li><a href="#related-functions">Related Functions</a></li>
</ul></li>
</ul>
</nav>
<h6 id="this-is-the-documentation-for-sdl3-which-is-under-heavy-development-and-the-api-is-changing-sdl2-is-the-current-stable-version">(This is the documentation for SDL3, which is under heavy development and the API is changing! <a href="https://wiki.libsdl.org/SDL2/.html">SDL2</a> is the current stable version!)</h6>
<h1 id="sdl_gl_bindtexture">SDL_GL_BindTexture</h1>
<p>Bind an OpenGL/ES/ES2 texture to the current context.</p>
<h2 id="syntax">Syntax</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb1-1" title="1"><span class="dt">int</span> SDL_GL_BindTexture(SDL_Texture *texture, <span class="dt">float</span> *texw, <span class="dt">float</span> *texh);</a></code></pre></div>
<h2 id="function-parameters">Function Parameters</h2>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>texture</strong></td>
<td>the texture to bind to the current OpenGL/ES/ES2 context</td>
</tr>
<tr class="even">
<td><strong>texw</strong></td>
<td>a pointer to a float value which will be filled with the texture width or NULL if you don't need that value</td>
</tr>
<tr class="odd">
<td><strong>texh</strong></td>
<td>a pointer to a float value which will be filled with the texture height or NULL if you don't need that value</td>
</tr>
</tbody>
</table>
<h2 id="return-value">Return Value</h2>
<p>Returns 0 on success or a negative error code on failure; call <a href="SDL_GetError.html">SDL_GetError</a>() for more information.</p>
<h2 id="remarks">Remarks</h2>
<p>This is for use with OpenGL instructions when rendering OpenGL primitives directly.</p>
<p>If not NULL, <code>texw</code> and <code>texh</code> will be filled with the width and height values suitable for the provided texture. In most cases, both will be 1.0, however, on systems that support the GL_ARB_texture_rectangle extension, these values will actually be the pixel width and height used to create the texture, so this factor needs to be taken into account when providing texture coordinates to OpenGL.</p>
<p>You need a renderer to create an <a href="SDL_Texture.html">SDL_Texture</a>, therefore you can only use this function with an implicit OpenGL context from <a href="SDL_CreateRenderer.html">SDL_CreateRenderer</a>(), not with your own OpenGL context. If you need control over your OpenGL context, you need to write your own texture-loading methods.</p>
<p>Also note that SDL may upload RGB textures as BGR (or vice-versa), and re-order the color channels in the shaders phase, so the uploaded texture may have swapped color channels.</p>
<h2 id="version">Version</h2>
<p>This function is available since SDL 3.0.0.</p>
<h2 id="code-examples">Code Examples</h2>
<p>The following are three examples extracted from the <a href="http://ignifuga.org.html">Ignifuga Game Engine</a> that show how to integrate <a href="http://librocket.com.html">libRocket</a> (which uses OpenGL for rendering) with SDL2.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb2-1" title="1"><span class="dt">void</span> RocketSDLRenderInterfaceOpenGL::RenderGeometry(Rocket::Core::Vertex* vertices, <span class="dt">int</span> num_vertices, <span class="dt">int</span>* indices, <span class="dt">int</span> num_indices, <span class="at">const</span> Rocket::Core::TextureHandle texture, <span class="at">const</span> Rocket::Core::Vector2f&amp; translation)</a>
<a class="sourceLine" id="cb2-2" title="2">{</a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="co">// SDL uses shaders that we need to disable here</span></a>
<a class="sourceLine" id="cb2-4" title="4">    render_data.glUseProgramObjectARB(<span class="dv">0</span>);</a>
<a class="sourceLine" id="cb2-5" title="5">    render_data.glPushMatrix();</a>
<a class="sourceLine" id="cb2-6" title="6">    render_data.glTranslatef(translation.x, translation.y, <span class="dv">0</span>);</a>
<a class="sourceLine" id="cb2-7" title="7"></a>
<a class="sourceLine" id="cb2-8" title="8">    <span class="bu">std::</span>vector&lt;Rocket::Core::Vector2f&gt; Positions(num_vertices);</a>
<a class="sourceLine" id="cb2-9" title="9">    <span class="bu">std::</span>vector&lt;Rocket::Core::Colourb&gt; Colors(num_vertices);</a>
<a class="sourceLine" id="cb2-10" title="10">    <span class="bu">std::</span>vector&lt;Rocket::Core::Vector2f&gt; TexCoords(num_vertices);</a>
<a class="sourceLine" id="cb2-11" title="11">    <span class="dt">float</span> texw, texh;</a>
<a class="sourceLine" id="cb2-12" title="12"></a>
<a class="sourceLine" id="cb2-13" title="13">    SDL_Texture* sdl_texture = NULL;</a>
<a class="sourceLine" id="cb2-14" title="14">    <span class="cf">if</span>(texture) {</a>
<a class="sourceLine" id="cb2-15" title="15">        render_data.glEnableClientState(GL_TEXTURE_COORD_ARRAY);</a>
<a class="sourceLine" id="cb2-16" title="16">        sdl_texture = (SDL_Texture *) texture;</a>
<a class="sourceLine" id="cb2-17" title="17">        SDL_GL_BindTexture(sdl_texture, &amp;texw, &amp;texh);</a>
<a class="sourceLine" id="cb2-18" title="18">    }</a>
<a class="sourceLine" id="cb2-19" title="19"></a>
<a class="sourceLine" id="cb2-20" title="20">    <span class="cf">for</span> (<span class="dt">int</span>  i = <span class="dv">0</span>; i &lt; num_vertices; i++) {</a>
<a class="sourceLine" id="cb2-21" title="21">        Positions[i] = vertices[i].position;</a>
<a class="sourceLine" id="cb2-22" title="22">        Colors[i] = vertices[i].colour;</a>
<a class="sourceLine" id="cb2-23" title="23">        <span class="cf">if</span> (sdl_texture) {</a>
<a class="sourceLine" id="cb2-24" title="24">            TexCoords[i].x = vertices[i].tex_coord.x * texw;</a>
<a class="sourceLine" id="cb2-25" title="25">            TexCoords[i].y = vertices[i].tex_coord.y * texh;</a>
<a class="sourceLine" id="cb2-26" title="26">        } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb2-27" title="27">            TexCoords[i] = vertices[i].tex_coord;</a>
<a class="sourceLine" id="cb2-28" title="28">        }</a>
<a class="sourceLine" id="cb2-29" title="29">    }</a>
<a class="sourceLine" id="cb2-30" title="30"></a>
<a class="sourceLine" id="cb2-31" title="31">    render_data.glEnableClientState(GL_VERTEX_ARRAY);</a>
<a class="sourceLine" id="cb2-32" title="32">    render_data.glEnableClientState(GL_COLOR_ARRAY);</a>
<a class="sourceLine" id="cb2-33" title="33">    render_data.glVertexPointer(<span class="dv">2</span>, GL_FLOAT, <span class="dv">0</span>, &amp;Positions[<span class="dv">0</span>]);</a>
<a class="sourceLine" id="cb2-34" title="34">    render_data.glColorPointer(<span class="dv">4</span>, GL_UNSIGNED_BYTE, <span class="dv">0</span>, &amp;Colors[<span class="dv">0</span>]);</a>
<a class="sourceLine" id="cb2-35" title="35">    render_data.glTexCoordPointer(<span class="dv">2</span>, GL_FLOAT, <span class="dv">0</span>, &amp;TexCoords[<span class="dv">0</span>]);</a>
<a class="sourceLine" id="cb2-36" title="36"></a>
<a class="sourceLine" id="cb2-37" title="37"></a>
<a class="sourceLine" id="cb2-38" title="38">    render_data.glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);</a>
<a class="sourceLine" id="cb2-39" title="39">    render_data.glEnable(GL_BLEND);</a>
<a class="sourceLine" id="cb2-40" title="40">    render_data.glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</a>
<a class="sourceLine" id="cb2-41" title="41">    render_data.glDrawElements(GL_TRIANGLES, num_indices, GL_UNSIGNED_INT, indices);</a>
<a class="sourceLine" id="cb2-42" title="42">    render_data.glDisableClientState(GL_VERTEX_ARRAY);</a>
<a class="sourceLine" id="cb2-43" title="43">    render_data.glDisableClientState(GL_COLOR_ARRAY);</a>
<a class="sourceLine" id="cb2-44" title="44"></a>
<a class="sourceLine" id="cb2-45" title="45"></a>
<a class="sourceLine" id="cb2-46" title="46">    <span class="cf">if</span> (sdl_texture) {</a>
<a class="sourceLine" id="cb2-47" title="47">        SDL_GL_UnbindTexture(sdl_texture);</a>
<a class="sourceLine" id="cb2-48" title="48">        render_data.glDisableClientState(GL_TEXTURE_COORD_ARRAY);</a>
<a class="sourceLine" id="cb2-49" title="49">    }</a>
<a class="sourceLine" id="cb2-50" title="50"></a>
<a class="sourceLine" id="cb2-51" title="51">    render_data.glColor4f(<span class="fl">1.0</span>, <span class="fl">1.0</span>, <span class="fl">1.0</span>, <span class="fl">1.0</span>);</a>
<a class="sourceLine" id="cb2-52" title="52">    render_data.glPopMatrix();</a>
<a class="sourceLine" id="cb2-53" title="53">}</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb3-1" title="1"><span class="dt">void</span> RocketSDLRenderInterfaceOpenGLES::RenderGeometry(Rocket::Core::Vertex* vertices, <span class="dt">int</span> num_vertices, <span class="dt">int</span>* indices, <span class="dt">int</span> num_indices, <span class="at">const</span> Rocket::Core::TextureHandle texture, <span class="at">const</span> Rocket::Core::Vector2f&amp; translation)</a>
<a class="sourceLine" id="cb3-2" title="2">{</a>
<a class="sourceLine" id="cb3-3" title="3">    render_data.glPushMatrix();</a>
<a class="sourceLine" id="cb3-4" title="4">    render_data.glTranslatef(translation.x, translation.y, <span class="dv">0</span>);</a>
<a class="sourceLine" id="cb3-5" title="5"></a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="bu">std::</span>vector&lt;Rocket::Core::Vector2f&gt; Positions(num_vertices);</a>
<a class="sourceLine" id="cb3-7" title="7">    <span class="bu">std::</span>vector&lt;Rocket::Core::Colourb&gt; Colors(num_vertices);</a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="bu">std::</span>vector&lt;Rocket::Core::Vector2f&gt; TexCoords(num_vertices);</a>
<a class="sourceLine" id="cb3-9" title="9">    <span class="dt">float</span> texw, texh;</a>
<a class="sourceLine" id="cb3-10" title="10"></a>
<a class="sourceLine" id="cb3-11" title="11">    SDL_Texture* sdl_texture = NULL;</a>
<a class="sourceLine" id="cb3-12" title="12">    <span class="cf">if</span>(texture) {</a>
<a class="sourceLine" id="cb3-13" title="13">        render_data.glEnableClientState(GL_TEXTURE_COORD_ARRAY);</a>
<a class="sourceLine" id="cb3-14" title="14">        sdl_texture = (SDL_Texture *) texture;</a>
<a class="sourceLine" id="cb3-15" title="15">        SDL_GL_BindTexture(sdl_texture, &amp;texw, &amp;texh);</a>
<a class="sourceLine" id="cb3-16" title="16">    }</a>
<a class="sourceLine" id="cb3-17" title="17"></a>
<a class="sourceLine" id="cb3-18" title="18">    <span class="cf">for</span> (<span class="dt">int</span>  i = <span class="dv">0</span>; i &lt; num_vertices; i++) {</a>
<a class="sourceLine" id="cb3-19" title="19">        Positions[i] = vertices[i].position;</a>
<a class="sourceLine" id="cb3-20" title="20">        Colors[i] = vertices[i].colour;</a>
<a class="sourceLine" id="cb3-21" title="21">        <span class="cf">if</span> (sdl_texture) {</a>
<a class="sourceLine" id="cb3-22" title="22">            TexCoords[i].x = vertices[i].tex_coord.x * texw;</a>
<a class="sourceLine" id="cb3-23" title="23">            TexCoords[i].y = vertices[i].tex_coord.y * texh;</a>
<a class="sourceLine" id="cb3-24" title="24">        } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb3-25" title="25">            TexCoords[i] = vertices[i].tex_coord;</a>
<a class="sourceLine" id="cb3-26" title="26">        }</a>
<a class="sourceLine" id="cb3-27" title="27">    }</a>
<a class="sourceLine" id="cb3-28" title="28"></a>
<a class="sourceLine" id="cb3-29" title="29">    <span class="dt">unsigned</span> <span class="dt">short</span> newIndicies[num_indices];</a>
<a class="sourceLine" id="cb3-30" title="30">    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; num_indices; i++) {</a>
<a class="sourceLine" id="cb3-31" title="31">        newIndicies[i] = (<span class="dt">unsigned</span> <span class="dt">short</span>) indices[i];</a>
<a class="sourceLine" id="cb3-32" title="32">    }</a>
<a class="sourceLine" id="cb3-33" title="33"></a>
<a class="sourceLine" id="cb3-34" title="34">    render_data.glEnableClientState(GL_VERTEX_ARRAY);</a>
<a class="sourceLine" id="cb3-35" title="35">    render_data.glEnableClientState(GL_COLOR_ARRAY);</a>
<a class="sourceLine" id="cb3-36" title="36">    render_data.glVertexPointer(<span class="dv">2</span>, GL_FLOAT, <span class="dv">0</span>, &amp;Positions[<span class="dv">0</span>]);</a>
<a class="sourceLine" id="cb3-37" title="37">    render_data.glColorPointer(<span class="dv">4</span>, GL_UNSIGNED_BYTE, <span class="dv">0</span>, &amp;Colors[<span class="dv">0</span>]);</a>
<a class="sourceLine" id="cb3-38" title="38">    render_data.glTexCoordPointer(<span class="dv">2</span>, GL_FLOAT, <span class="dv">0</span>, &amp;TexCoords[<span class="dv">0</span>]);</a>
<a class="sourceLine" id="cb3-39" title="39"></a>
<a class="sourceLine" id="cb3-40" title="40">    render_data.glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_MODULATE);</a>
<a class="sourceLine" id="cb3-41" title="41">    render_data.glEnable(GL_BLEND);</a>
<a class="sourceLine" id="cb3-42" title="42">    render_data.glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</a>
<a class="sourceLine" id="cb3-43" title="43">    render_data.glDrawElements(GL_TRIANGLES, num_indices, GL_UNSIGNED_SHORT, newIndicies);</a>
<a class="sourceLine" id="cb3-44" title="44">    render_data.glDisableClientState(GL_VERTEX_ARRAY);</a>
<a class="sourceLine" id="cb3-45" title="45">    render_data.glDisableClientState(GL_COLOR_ARRAY);</a>
<a class="sourceLine" id="cb3-46" title="46">    render_data.glDisableClientState(GL_TEXTURE_COORD_ARRAY);</a>
<a class="sourceLine" id="cb3-47" title="47"></a>
<a class="sourceLine" id="cb3-48" title="48">    <span class="cf">if</span> (sdl_texture) {</a>
<a class="sourceLine" id="cb3-49" title="49">        SDL_GL_UnbindTexture(sdl_texture);</a>
<a class="sourceLine" id="cb3-50" title="50">        render_data.glDisableClientState(GL_TEXTURE_COORD_ARRAY);</a>
<a class="sourceLine" id="cb3-51" title="51">    }</a>
<a class="sourceLine" id="cb3-52" title="52"></a>
<a class="sourceLine" id="cb3-53" title="53">    render_data.glColor4f(<span class="fl">1.0</span>, <span class="fl">1.0</span>, <span class="fl">1.0</span>, <span class="fl">1.0</span>);</a>
<a class="sourceLine" id="cb3-54" title="54">    render_data.glPopMatrix();</a>
<a class="sourceLine" id="cb3-55" title="55">}</a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb4-1" title="1">    SDL_Texture* sdl_texture = NULL;</a>
<a class="sourceLine" id="cb4-2" title="2">    <span class="cf">if</span>(texture) render_data.glUseProgram(program_texture_id);</a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="cf">else</span> render_data.glUseProgram(program_color_id);</a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="dt">int</span> width, height;</a>
<a class="sourceLine" id="cb4-5" title="5">    SDL_Rect rvp;</a>
<a class="sourceLine" id="cb4-6" title="6">    SDL_GetRenderViewport(renderer, &amp;rvp);</a>
<a class="sourceLine" id="cb4-7" title="7"></a>
<a class="sourceLine" id="cb4-8" title="8">    GLfloat projection[<span class="dv">4</span>][<span class="dv">4</span>];</a>
<a class="sourceLine" id="cb4-9" title="9"></a>
<a class="sourceLine" id="cb4-10" title="10">    <span class="co">// Prepare an orthographic projection</span></a>
<a class="sourceLine" id="cb4-11" title="11">    projection[<span class="dv">0</span>][<span class="dv">0</span>] = <span class="fl">2.0</span><span class="bu">f</span> / rvp.w;</a>
<a class="sourceLine" id="cb4-12" title="12">    projection[<span class="dv">0</span>][<span class="dv">1</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-13" title="13">    projection[<span class="dv">0</span>][<span class="dv">2</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-14" title="14">    projection[<span class="dv">0</span>][<span class="dv">3</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-15" title="15">    projection[<span class="dv">1</span>][<span class="dv">0</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-16" title="16">    <span class="co">//if (renderer-&gt;target) {</span></a>
<a class="sourceLine" id="cb4-17" title="17">    <span class="co">//    projection[1][1] = 2.0f / height;</span></a>
<a class="sourceLine" id="cb4-18" title="18">    <span class="co">//} else {</span></a>
<a class="sourceLine" id="cb4-19" title="19">        projection[<span class="dv">1</span>][<span class="dv">1</span>] = -<span class="fl">2.0</span><span class="bu">f</span> / rvp.h;</a>
<a class="sourceLine" id="cb4-20" title="20">    <span class="co">//}</span></a>
<a class="sourceLine" id="cb4-21" title="21">    projection[<span class="dv">1</span>][<span class="dv">2</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-22" title="22">    projection[<span class="dv">1</span>][<span class="dv">3</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-23" title="23">    projection[<span class="dv">2</span>][<span class="dv">0</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-24" title="24">    projection[<span class="dv">2</span>][<span class="dv">1</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-25" title="25">    projection[<span class="dv">2</span>][<span class="dv">2</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-26" title="26">    projection[<span class="dv">2</span>][<span class="dv">3</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-27" title="27">    projection[<span class="dv">3</span>][<span class="dv">0</span>] = -<span class="fl">1.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-28" title="28">    <span class="co">//if (renderer-&gt;target) {</span></a>
<a class="sourceLine" id="cb4-29" title="29">    <span class="co">//    projection[3][1] = -1.0f;</span></a>
<a class="sourceLine" id="cb4-30" title="30">    <span class="co">//} else {</span></a>
<a class="sourceLine" id="cb4-31" title="31">        projection[<span class="dv">3</span>][<span class="dv">1</span>] = <span class="fl">1.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-32" title="32">    <span class="co">//}</span></a>
<a class="sourceLine" id="cb4-33" title="33">    projection[<span class="dv">3</span>][<span class="dv">2</span>] = <span class="fl">0.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-34" title="34">    projection[<span class="dv">3</span>][<span class="dv">3</span>] = <span class="fl">1.0</span><span class="bu">f</span>;</a>
<a class="sourceLine" id="cb4-35" title="35"></a>
<a class="sourceLine" id="cb4-36" title="36">    <span class="co">// Set the projection matrix</span></a>
<a class="sourceLine" id="cb4-37" title="37">    <span class="cf">if</span> (texture) {</a>
<a class="sourceLine" id="cb4-38" title="38">        render_data.glUniformMatrix4fv(u_texture_projection, <span class="dv">1</span>, GL_FALSE, (GLfloat *)projection);</a>
<a class="sourceLine" id="cb4-39" title="39">        render_data.glUniform2f(u_texture_translation, translation.x, translation.y);</a>
<a class="sourceLine" id="cb4-40" title="40">    } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb4-41" title="41">        render_data.glUniformMatrix4fv(u_color_projection, <span class="dv">1</span>, GL_FALSE, (GLfloat *)projection);</a>
<a class="sourceLine" id="cb4-42" title="42">        render_data.glUniform2f(u_color_translation, translation.x, translation.y);</a>
<a class="sourceLine" id="cb4-43" title="43">    }</a>
<a class="sourceLine" id="cb4-44" title="44"></a>
<a class="sourceLine" id="cb4-45" title="45">    render_data.glEnable(GL_BLEND);</a>
<a class="sourceLine" id="cb4-46" title="46">    render_data.glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</a>
<a class="sourceLine" id="cb4-47" title="47"></a>
<a class="sourceLine" id="cb4-48" title="48">    <span class="dt">float</span> texw, texh;</a>
<a class="sourceLine" id="cb4-49" title="49"></a>
<a class="sourceLine" id="cb4-50" title="50">    <span class="dt">unsigned</span> <span class="dt">short</span> newIndicies[num_indices];</a>
<a class="sourceLine" id="cb4-51" title="51">    <span class="cf">for</span> (<span class="dt">int</span> i = <span class="dv">0</span>; i &lt; num_indices; i++) {</a>
<a class="sourceLine" id="cb4-52" title="52">      newIndicies[i] = (<span class="dt">unsigned</span> <span class="dt">short</span>) indices[i];</a>
<a class="sourceLine" id="cb4-53" title="53">    }</a>
<a class="sourceLine" id="cb4-54" title="54"></a>
<a class="sourceLine" id="cb4-55" title="55">    glVertexAttribPointer(ROCKETGLUE_ATTRIBUTE_POSITION, <span class="dv">2</span>, GL_FLOAT, GL_FALSE, <span class="kw">sizeof</span>(Rocket::Core::Vertex), &amp;vertices[<span class="dv">0</span>].position);</a>
<a class="sourceLine" id="cb4-56" title="56">    glVertexAttribPointer(ROCKETGLUE_ATTRIBUTE_COLOR, <span class="dv">4</span>, GL_UNSIGNED_BYTE, GL_TRUE, <span class="kw">sizeof</span>(Rocket::Core::Vertex), &amp;vertices[<span class="dv">0</span>].colour);</a>
<a class="sourceLine" id="cb4-57" title="57">    render_data.glEnableVertexAttribArray(ROCKETGLUE_ATTRIBUTE_POSITION);</a>
<a class="sourceLine" id="cb4-58" title="58">    render_data.glEnableVertexAttribArray(ROCKETGLUE_ATTRIBUTE_TEXCOORD);</a>
<a class="sourceLine" id="cb4-59" title="59">    render_data.glEnableVertexAttribArray(ROCKETGLUE_ATTRIBUTE_COLOR);</a>
<a class="sourceLine" id="cb4-60" title="60"></a>
<a class="sourceLine" id="cb4-61" title="61">    <span class="cf">if</span> (texture) {</a>
<a class="sourceLine" id="cb4-62" title="62">        sdl_texture = (SDL_Texture *) texture;</a>
<a class="sourceLine" id="cb4-63" title="63">        SDL_GL_BindTexture(sdl_texture, &amp;texw, &amp;texh);</a>
<a class="sourceLine" id="cb4-64" title="64">        render_data.glUniform1i(u_texture, <span class="dv">0</span>);</a>
<a class="sourceLine" id="cb4-65" title="65">        glVertexAttribPointer(ROCKETGLUE_ATTRIBUTE_TEXCOORD, <span class="dv">2</span>, GL_FLOAT, GL_FALSE, <span class="kw">sizeof</span>(Rocket::Core::Vertex), &amp;vertices[<span class="dv">0</span>].tex_coord);</a>
<a class="sourceLine" id="cb4-66" title="66">    } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb4-67" title="67">        render_data.glActiveTexture(GL_TEXTURE0);</a>
<a class="sourceLine" id="cb4-68" title="68">        render_data.glDisable(GL_TEXTURE_2D);</a>
<a class="sourceLine" id="cb4-69" title="69">        render_data.glDisableVertexAttribArray(ROCKETGLUE_ATTRIBUTE_TEXCOORD);</a>
<a class="sourceLine" id="cb4-70" title="70">    }</a>
<a class="sourceLine" id="cb4-71" title="71"></a>
<a class="sourceLine" id="cb4-72" title="72">    render_data.glDrawElements(GL_TRIANGLES, num_indices, GL_UNSIGNED_SHORT, newIndicies);</a>
<a class="sourceLine" id="cb4-73" title="73"></a>
<a class="sourceLine" id="cb4-74" title="74">    <span class="co">/* We can disable ROCKETGLUE_ATTRIBUTE_COLOR (2) safely as SDL will reenable the vertex attrib 2 if it is required */</span></a>
<a class="sourceLine" id="cb4-75" title="75">    render_data.glDisableVertexAttribArray(ROCKETGLUE_ATTRIBUTE_COLOR);</a>
<a class="sourceLine" id="cb4-76" title="76"></a>
<a class="sourceLine" id="cb4-77" title="77">    <span class="co">/* Leave ROCKETGLUE_ATTRIBUTE_POSITION (0) and ROCKETGLUE_ATTRIBUTE_TEXCOORD (1) enabled for compatibility with SDL which</span></a>
<a class="sourceLine" id="cb4-78" title="78"><span class="co">       doesn&#39;t re enable them when you call RenderCopy/Ex */</span></a>
<a class="sourceLine" id="cb4-79" title="79">    <span class="cf">if</span>(sdl_texture) SDL_GL_UnbindTexture(sdl_texture);</a>
<a class="sourceLine" id="cb4-80" title="80">    <span class="cf">else</span> render_data.glEnableVertexAttribArray(ROCKETGLUE_ATTRIBUTE_TEXCOORD);</a>
<a class="sourceLine" id="cb4-81" title="81"></a>
<a class="sourceLine" id="cb4-82" title="82">    <span class="co">/* Reset blending and draw a fake point just outside the screen to let SDL know that it needs to reset its state in case it wants to render a texture */</span></a>
<a class="sourceLine" id="cb4-83" title="83">    render_data.glDisable(GL_BLEND);</a>
<a class="sourceLine" id="cb4-84" title="84">    SDL_SetRenderDrawBlendMode(renderer, SDL_BLENDMODE_NONE);</a>
<a class="sourceLine" id="cb4-85" title="85">    SDL_RenderPoint(renderer, -<span class="dv">1</span>, -<span class="dv">1</span>);</a></code></pre></div>
<h2 id="related-functions">Related Functions</h2>
<ul>
<li><a href="SDL_GL_MakeCurrent.html">SDL_GL_MakeCurrent</a></li>
<li><a href="SDL_GL_UnbindTexture.html">SDL_GL_UnbindTexture</a></li>
</ul>
<hr />
<p><a href="CategoryAPI.html">CategoryAPI</a>, <a href="CategoryRender.html">CategoryRender</a></p>
</body>
</html>
