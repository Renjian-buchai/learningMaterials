<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>FAQWindows</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<nav id="TOC">
<ul>
<li><a href="#faq-windows">FAQ: Windows</a><ul>
<li><a href="#using-sdl">Using SDL</a><ul>
<li><a href="#general">General</a></li>
<li><a href="#windows-2000">Windows 2000</a></li>
</ul></li>
<li><a href="#developing-with-sdl">Developing with SDL</a><ul>
<li><a href="#windows-ce">Windows CE</a></li>
<li><a href="#visual-c">Visual C++</a></li>
<li><a href="#gcc">gcc</a></li>
<li><a href="#dev-c">Dev-C++</a></li>
<li><a href="#mingw">MinGW</a></li>
<li><a href="#miscellaneous">Miscellaneous</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="faq-windows">FAQ: Windows</h1>
<h2 id="using-sdl">Using SDL</h2>
<h3 id="general">General</h3>
<h4 id="what-is-supported">What is supported?</h4>
<p>SDL 2.0.0 supports Windows XP, Windows Vista, Windows 7, 8, 10 and 11.</p>
<p>SDL can be built with ICC, Visual C++, Cygwin, MinGW, and Dev-C++.</p>
<p>For the latest information see <a href="Installation.html" title="wikilink">the page about Installation</a>.</p>
<h3 id="windows-2000">Windows 2000</h3>
<h4 id="im-running-windows-2000-and-i-cant-copy-sdl2.dll">I'm running Windows 2000 and I can't copy SDL2.dll!</h4>
<p>For some reason, archives created on Linux have the "Encrypted" property set when unpacked on Windows 2000. This can be unset by pushing Advanced from the General tab of the properties window and unchecking Encrypt contents check box. The files can then be copied normally.</p>
<h2 id="developing-with-sdl">Developing with SDL</h2>
<h3 id="windows-ce">Windows CE</h3>
<h4 id="can-i-build-sdl-for-windows-ce">Can I build SDL for Windows CE?</h4>
<p>SDL 1.2 is not officially supported on Windows CE, but some people have successfully built and run SDL applications on Windows CE.</p>
<p>SDL 1.2.5 and newer contain project files and information on building SDL 1.2 for Windows CE. Take a look at the file README.WinCE in the source archive for more information.</p>
<p>There is no support for Windows CE in SDL 2.0.</p>
<h3 id="visual-c">Visual C++</h3>
<h4 id="how-do-i-use-sdl-with-visual-c">How do I use SDL with Visual C++?</h4>
<p>Read the file "VisualC.html" included with both the SDL Visual C++ development archive, and the SDL source archive.</p>
<h4 id="when-using-visual-c-i-get-fatal-error-c1083-cannot-open-include-file-windows.h-no-such-file-or-directory">When using Visual C++ I get "fatal error C1083: Cannot open include file: 'windows.h': No such file or directory"</h4>
<p>You need to install the platform SDK, as described here: <a href="http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/.html">http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/</a></p>
<h4 id="when-using-visual-c-i-get-link-errors-relating-to-msvcrt.lib-or-libc">When using Visual C++ I get link errors relating to MSVCRT.LIB or LIBC</h4>
<p>SDL is dynamically linked with the multi-threaded version of the Microsoft Visual C runtime. You need to edit your project settings, go to the C++ language tab, change the listbox to "Code Generation" settings, and then change the runtime library to "Multi-threaded DLL". Make sure you do this with all projects that you link into your application.</p>
<h4 id="when-using-visual-c-5-i-get-the-following-error-message-sdl.lib-fatal-error-lnk1106-invalid-file-or-disk-full">When using Visual C++ 5, I get the following error message: SDL.lib : fatal error LNK1106: invalid file or disk full</h4>
<p>This happens with Visual C++ 5, if you use the prebuilt SDL library and have not updated to the latest service pack.</p>
<h4 id="why-cant-i-use-visual-c-debugger-with-sdl-1.2-applications">Why can't I use Visual C++ debugger with SDL 1.2 applications?</h4>
<p>You need to pass the SDL_INIT_NOPARACHUTE flag to your calls to SDL_Init() to make the msvc debugger work. Otherwise the debugger will be unable to trace exceptions, and other debugging features like run to cursor won't work.</p>
<h4 id="why-does-the-visual-c-debugger-freeze-at-every-breakpoint-when-debugging-sdl-apps">Why does the Visual C++ debugger freeze at every breakpoint when debugging SDL apps?</h4>
<p>The DirectX drivers have a system lock while you have video surfaces locked. To avoid this, you can set the video driver to GDI by setting the SDL_VIDEODRIVER environment variable to: windib. Since this changes video and mouse/keyboard input drivers, you'll see a difference in performance and features available, but you'll be able to debug your application more easily.</p>
<h4 id="my-application-shows-no-terminal-with-debug-messages">My application shows no terminal with debug messages</h4>
<p>Link your application with the Console subystem instead: `/SUBSYSTEM:CONSOLE`.</p>
<p>Alternatively, you can use the Win32 API to conditionally create a console: ```c</p>
<ol>
<li>include "SDL.h"</li>
<li>include &lt;stdio.h&gt;</li>
<li>include &lt;string.h&gt;</li>
<li>include &lt;windows.h&gt;</li>
</ol>
<p>static void create_console(void) {</p>
<p><code>   AllocConsole();</code><br />
<code>   freopen("CONIN$", "r", stdin);</code><br />
<code>   freopen("CONOUT$", "w", stdout);</code><br />
<code>   freopen("CONOUT$", "w", stderr);</code></p>
<p>}</p>
<p>int main(int argc, char *argv[]) {</p>
<p><code>   if (strcmp(argv[1], "--debug") == 0) {</code><br />
<code>       create_console();</code><br />
<code>   }</code><br />
<code>   /* ... Enter your secret sauce here */</code><br />
<code>   return 0;</code></p>
<p>} ```</p>
<h3 id="gcc">gcc</h3>
<h4 id="how-do-i-use-sdl-with-gcc-on-windows">How do I use SDL with gcc on Windows?</h4>
<p>You can build and use SDL with gcc natively using either Cygwin, MSYS2 or MinGW, or you can build a gcc cross-compiler targeting Windows from another platform. Setting up these environments is documented at: <a href="http://www.libsdl.org/extras/win32/gcc.html.html">http://www.libsdl.org/extras/win32/gcc.html</a> Once the build environment is set up, you can build your applications as though you are on an Unix. See the <a href="FAQLinux.html" title="wikilink">Linux FAQ</a> for more details on building applications in this environment.</p>
<h3 id="dev-c">Dev-C++</h3>
<h4 id="how-do-i-use-sdl-with-dev-c">How do I use SDL with Dev-C++?</h4>
<p>Try the Dev-C++ tutorial available at: <a href="http://cone3d.gamedev.net/cgi-bin/index.pl?page=tutorials/gfxsdl/tut1.html">http://cone3d.gamedev.net/cgi-bin/index.pl?page=tutorials/gfxsdl/tut1</a> (<a href="https://web.archive.org/web/20110813073708/http://cone3d.gamedev.net/cgi-bin/index.pl?page=tutorials/gfxsdl/tut1.html">Archive</a>). If you have problems, please contact the author of the tutorial.</p>
<p>There are also step by step instructions at: <a href="http://docs.deninet.com/sdl_on_dev_c.htm.html">http://docs.deninet.com/sdl_on_dev_c.htm</a> (<a href="https://web.archive.org/web/20080510080708/http://docs.deninet.com/sdl_on_dev_c.htm.html">Archive</a>)</p>
<h4 id="choosing-console-application-in-the-project-parameters-will-result-in-generating-a-program-that-will-systematically-make-vista-users-crash.">Choosing "console application" in the project parameters will result in generating a program that will *systematically* make Vista users crash.</h4>
<p>Choose "gui application" instead of "console application" when compiling for Vista.</p>
<h3 id="mingw">MinGW</h3>
<h4 id="my-application-shows-no-terminal-with-debug-messages-1">My application shows no terminal with debug messages</h4>
<p>When using pkg-config, or certain SDL2 CMake configuration scripts, `-mwindows` is always added as a link option. This option instructs the Windows loader to start your application though `WinMain` and don't show a console window.</p>
<p>The method to remove `-mwindows` depends on your build system: For CMake build systems, set the `SDL2_NO_MWINDOWS` CMake variable to remove `-mwindows` from the link options prior to calling `find_package(SDL2)`. For pkg-config, use `$(pkg-config sdl2 --libs-only-L --libs-only-l)` instead. For sdl2-config, use `sed` to remove `-mwindows`: `$(sdl2-config --libs | sed -E s/-mwindows//)`</p>
<p>When not adding `-mwindows`, you need to make sure `SDL_SetMainReady()` is called before `SDL_Init` because the `WinMain` symbol in `SDL2_main` is not used anymore.</p>
<p>You can also conditionally create a console. See the corresponding FAQ item of Visual C++ above.</p>
<h3 id="miscellaneous">Miscellaneous</h3>
<h4 id="i-get-undefined-reference-to-sdl_main-...">I get "Undefined reference to 'SDL_main'" ...</h4>
<p>Make sure that you are declaring main() as:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c++"><code class="sourceCode cpp"><a class="sourceLine" id="cb1-1" title="1"><span class="pp">#include </span><span class="im">&quot;SDL.h&quot;</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span> *argv[])</a></code></pre></div>
<p>You should be using main() instead of WinMain() even though you are creating a Windows application, because SDL provides a version of !WinMain() which performs some SDL initialization before calling your main code. If for some reason you need to use !WinMain(), take a look at the SDL source code in src/main/win32/SDL_main.c to see what kind of initialization you need to do in your !WinMain() function so that SDL works properly.</p>
<p>Warning/error messages that might also be fixed by this are: - found main and WinMain; defaulting to /subsystem:console - found both wmain and main; using latter".</p>
<h4 id="i-get-undefined-reference-to-winmain16">I get "Undefined reference to 'WinMain@16'"</h4>
<p>Under Visual C++, you need to link with SDL2main.lib. Under the gcc build environments including Dev-C++, you need to link with the output of "sdl2-config --libs", which is usually: -lmingw32 -lSDL2main -lSDL2. While using vcpkg SDL2main.lib is moved to the manual-link folder and needs to be consumed manually for more information see <a href="https://github.com/microsoft/vcpkg/blob/master/docs/users/integration.md.html">vcpkg's integration docs</a>.</p>
<h4 id="i-get-undefined-reference-to-main-or-_main">I get "Undefined reference to 'main'" (or '_main')</h4>
<p>When you're building using CMake, make sure to add WIN32 to <a href="https://cmake.org/cmake/help/latest/command/add_executable.html#normal-executables.html">add_executable</a>. When using MinGW, add -mwindows to the link options. MSVC users should add /subsystem:windows. clang-cl users should add -Xlinker /subsystem:windows.</p>
<h4 id="i-get-undefined-references-to-various-sdl-functions...">I get undefined references to various SDL functions...</h4>
<p>When you're compiling with gcc, you need to make sure the output of sdl2-config follows your source file on the command line: gcc -o test test.c <code>sdl2-config --cflags --libs</code></p>
<p>If you're getting undefined references to functions in SDL2_image or SDL2_mixer, make sure you're actually linking with those libraries as well.</p>
</body>
</html>
